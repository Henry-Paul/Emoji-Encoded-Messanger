<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Emoji Messenger - Global</title>
    <meta name="description" content="Send encrypted messages using emojis - Real global sharing">
    <meta name="theme-color" content="#25D366">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🔒</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🔒</text></svg>">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- New Message Alert -->
    <div class="new-message-alert" id="new-message-alert">
        <i class="fas fa-bell"></i>
        <span>New message received!</span>
    </div>

    <div class="app-container">
        <div class="header">
            <div class="whatsapp-logo">
                <i class="fas fa-lock"></i>
            </div>
            <h1>Secure Emoji Messenger</h1>
            <p>Real Global Sharing - No Login Required</p>
            <button class="settings-btn" id="settings-btn">
                <i class="fas fa-cog"></i>
            </button>
            
            <div class="settings-panel" id="settings-panel">
                <div class="settings-option" id="clear-chat">
                    <i class="fas fa-trash"></i>
                    <span>Clear Local Chat</span>
                </div>
                <div class="settings-option" id="refresh-global">
                    <i class="fas fa-sync-alt"></i>
                    <span>Refresh Global Messages</span>
                </div>
                <div class="settings-option" id="share-app">
                    <i class="fas fa-share-alt"></i>
                    <span>Share App</span>
                </div>
            </div>
        </div>
        
        <div class="tab-container">
            <div class="tab active" data-tab="encoder">Encoder</div>
            <div class="tab" data-tab="decoder">Decoder</div>
            <div class="tab" data-tab="global">Global Messages</div>
            <div class="tab" data-tab="integration">Guide</div>
        </div>
        
        <!-- Encoder Tab -->
        <div class="content active" id="encoder-content">
            <div class="chat-area">
                <div class="chat-messages" id="chat-messages">
                    <div class="empty-state" id="empty-state">
                        <i class="fas fa-comment-dots"></i>
                        <h3>No local messages yet</h3>
                        <p>Select an emoji to create an encrypted message</p>
                    </div>
                </div>
                
                <div class="emoji-keyboard" id="emoji-keyboard">
                    <!-- Emojis will be added by JavaScript -->
                </div>
                
                <div class="instructions">
                    <p><strong>How to use:</strong> Tap any emoji → Add text and password → Send. Message becomes available globally for 5 minutes.</p>
                    <p><i class="fas fa-globe"></i> <strong>Global:</strong> Anyone with this app link can decode your message</p>
                </div>
            </div>
        </div>
        
        <!-- Decoder Tab -->
        <div class="content" id="decoder-content">
            <div class="integration-section">
                <div class="integration-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <div class="step-title">Paste Emoji</div>
                        <div class="step-description">Copy the encrypted emoji from any chat and paste it below</div>
                        <input type="text" class="text-input" id="decode-emoji" placeholder="Paste emoji here..." style="margin-top: 10px;">
                    </div>
                </div>
                
                <div class="integration-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <div class="step-title">Enter Password</div>
                        <div class="step-description">Enter the password provided by the sender to decrypt the message</div>
                        <input type="password" class="password-input" id="decode-password" placeholder="Enter password..." style="margin-top: 10px;">
                    </div>
                </div>
                
                <div class="integration-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <div class="step-title">View Decrypted Message</div>
                        <div class="step-description">Click the button below to reveal the hidden message</div>
                        <button class="action-btn" id="decode-btn">
                            <i class="fas fa-key"></i> Decode Message
                        </button>
                    </div>
                </div>
                
                <div class="integration-step" id="decode-result" style="display: none;">
                    <div class="step-number"><i class="fas fa-check"></i></div>
                    <div class="step-content">
                        <div class="step-title">Decrypted Message</div>
                        <div class="step-description" id="decoded-message-text" style="font-weight: 500; color: var(--dark);"></div>
                        <div class="message-timer" id="decode-timer" style="margin-top: 10px;"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Global Messages Tab -->
        <div class="content" id="global-content">
            <div class="global-messages">
                <h3>
                    <i class="fas fa-globe-americas"></i>
                    Global Messages
                    <button class="refresh-btn" id="refresh-global-btn">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                </h3>
                <div id="global-messages-list">
                    <div class="empty-state">
                        <i class="fas fa-inbox"></i>
                        <h3>No global messages</h3>
                        <p>Messages from all users will appear here</p>
                    </div>
                </div>
            </div>
            
            <div class="instructions" style="margin: 20px; border-radius: 10px;">
                <p><strong>Live Global Feed:</strong> See all messages being sent worldwide in real-time</p>
                <p><i class="fas fa-clock"></i> Messages auto-delete after 5 minutes</p>
                <p><i class="fas fa-users"></i> Anyone can decode with the correct password</p>
            </div>
        </div>
        
        <!-- Integration Tab -->
        <div class="content" id="integration-content">
            <div class="integration-section">
                <div class="integration-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <div class="step-title">Real Global Sharing</div>
                        <div class="step-description">
                            <ul style="text-align: left; margin-top: 10px; padding-left: 20px;">
                                <li>User in Hyderabad encodes a message</li>
                                <li>User in Chennai sees it immediately in Global Messages</li>
                                <li>No login required - works instantly worldwide</li>
                                <li>All messages visible to all users for 5 minutes</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="integration-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <div class="step-title">How to Encode & Share</div>
                        <div class="step-description">
                            <ol style="text-align: left; margin-top: 10px; padding-left: 20px;">
                                <li>Go to <strong>Encoder</strong> tab</li>
                                <li>Select an emoji and enter your message</li>
                                <li>Set a password and send</li>
                                <li>Your message becomes instantly available worldwide</li>
                                <li>Share the password separately with recipients</li>
                            </ol>
                        </div>
                    </div>
                </div>
                
                <div class="integration-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <div class="step-title">How to Decode</div>
                        <div class="step-description">
                            <ol style="text-align: left; margin-top: 10px; padding-left: 20px;">
                                <li>Check <strong>Global Messages</strong> tab for new messages</li>
                                <li>Or go to <strong>Decoder</strong> tab and paste any emoji</li>
                                <li>Enter the password provided by sender</li>
                                <li>View the decrypted message</li>
                            </ol>
                        </div>
                    </div>
                </div>
                
                <div class="integration-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <div class="step-title">Live Features</div>
                        <div class="step-description">
                            <ul style="text-align: left; margin-top: 10px; padding-left: 20px;">
                                <li>🔔 Real-time notifications for new messages</li>
                                <li>🌍 See messages from users worldwide</li>
                                <li>⏰ Automatic cleanup after 5 minutes</li>
                                <li>📱 Works on all devices simultaneously</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Password Modal for Sender -->
    <div class="modal" id="password-modal">
        <div class="modal-content">
            <div class="modal-icon">
                <i class="fas fa-lock"></i>
            </div>
            <h3 class="modal-title">Encrypt Your Message</h3>
            <div class="selected-emoji" id="selected-emoji" style="font-size: 3rem; margin-bottom: 15px;"></div>
            <input type="text" class="text-input" id="message-text" placeholder="Enter your secret message...">
            <input type="password" class="password-input" id="sender-password" placeholder="Set a password to encrypt...">
            <div class="modal-buttons">
                <button class="modal-btn confirm" id="confirm-send" type="button">
                    <i class="fas fa-paper-plane"></i> Send Globally
                </button>
                <button class="modal-btn cancel" id="cancel-send" type="button">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Welcome Modal -->
    <div class="modal" id="welcome-modal">
        <div class="modal-content">
            <div class="modal-icon">
                <i class="fas fa-shield-alt"></i>
            </div>
            <h3 class="modal-title">Secure Emoji Messenger</h3>
            <p style="margin-bottom: 15px; line-height: 1.5;">Now with <strong>real global messaging</strong>! See messages from users worldwide in real-time.</p>
            <p style="margin-bottom: 15px; font-weight: bold; color: var(--secondary);">🌍 Hyderabad to Chennai - Instant!</p>
            <div class="modal-buttons">
                <button class="modal-btn confirm" id="get-started" type="button">Start Messaging</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
